[
  {
    "name": "(Upstream) Issue DFR - Copper Mine 1",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/osh/01/TR2024025DPJ8Q9",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/osh/01/TR2024025DPJ8Q9",
              "registeredId": "TR2024025DPJ8Q9",
              "description": "TEST Copper Mine Produces Copper Concentrate",
              "name": "TEST Copper Mine",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://opensupplyhub.org/facilities/",
                "name": "Open Supply Hub"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Copper ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/09359502000119/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Mining Permitted Entity",
                "registeredId": "09359502000119.21.DIA_01"
              },
              "facilityAlsoKnownAs": [
                {
                  "id": "http://localhost:3000/gs1/01/09359502000119/21/DCC_03?linkType=gs1:certificationInfo",
                  "name": "Mine Permit Number",
                  "registeredId": "09359502000119.21.DCC_03"
                }
              ],
              "address": {
                "streetAddress": "11 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                    "name": "RISK READINESS ASSESSMENT CRITERIA GUIDE",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000119/21/DCC_02?linkType=gs1:certificationInfo",
                  "linkName": "CopperMark Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://mining.ca/wp-content/uploads/dlm_uploads/2024/05/FINAL-2020-Protocol-Biodiversity.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://mining.ca/wp-content/uploads/dlm_uploads/2024/05/FINAL-2020-Protocol-Biodiversity.pdf",
                    "name": "Towards Sustainable Mining Protocol",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000119/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Towards Sustainable Mining (TSM) Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.bclaws.gov.bc.ca/civix/document/id/complete/statreg/96293_01",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.bclaws.gov.bc.ca/civix/document/id/complete/statreg/96293_01",
                    "name": "Mines Act Permit",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000119/21/DCC_03?linkType=gs1:certificationInfo",
                  "linkName": "Facility permitted to operate in BC under Mines Act",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Test Copper Mine"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "osh",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Upstream) Issue DFR - Copper Mine 2",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/9359502000119",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/9359502000119",
              "registeredId": "9359502000119",
              "description": "TEST Copper Mine Produces Copper Concentrate",
              "name": "TEST Copper Mine",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Copper ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/09359502000119/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Mining Permitted Entity",
                "registeredId": "09359502000119.21.DIA_01"
              },
              "facilityAlsoKnownAs": [
                {
                  "id": "http://localhost:3000/gs1/01/09359502000119/21/DCC_03?linkType=gs1:certificationInfo",
                  "name": "Mine Permit Number",
                  "registeredId": "09359502000119.21.DCC_03"
                }
              ],
              "address": {
                "streetAddress": "11 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                    "name": "RISK READINESS ASSESSMENT CRITERIA GUIDE",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000119/21/DCC_02?linkType=gs1:certificationInfo",
                  "linkName": "CopperMark Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://mining.ca/wp-content/uploads/dlm_uploads/2024/05/FINAL-2020-Protocol-Biodiversity.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://mining.ca/wp-content/uploads/dlm_uploads/2024/05/FINAL-2020-Protocol-Biodiversity.pdf",
                    "name": "Towards Sustainable Mining Protocol",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000119/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Towards Sustainable Mining (TSM) Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.bclaws.gov.bc.ca/civix/document/id/complete/statreg/96293_01",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.bclaws.gov.bc.ca/civix/document/id/complete/statreg/96293_01",
                    "name": "Mines Act Permit",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000119/21/DCC_03?linkType=gs1:certificationInfo",
                  "linkName": "Facility permitted to operate in BC under Mines Act",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Test Copper Mine"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Midstream) Issue DFR - Copper Smelter 3",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/9359502000126",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/9359502000126",
              "registeredId": "9359502000126",
              "description": "TEST Copper Smelter Produces Copper Cathodes",
              "name": "TEST Copper Smelter",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Refined copper and copper alloys, unwrought; master alloys of copper",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "TEST Smelter Parent",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                    "name": "RISK READINESS ASSESSMENT CRITERIA GUIDE",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000126/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "CopperMark Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/Public%20Reports/CMOC%20Kisanfu%20Public%20Report.pdf",
                "referenceStandard": {
                  "type": [
                    "Standard"
                  ],
                  "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                  "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                  "issuingParty": {
                    "id": "https://www.responsiblemineralsinitiative.org/",
                    "name": "Responsible Minerals Initiative",
                    "registeredId": "123456789",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://find-and-update.company-information.service.gov.uk/",
                      "name": "Company Registration Number (CRN)"
                    }
                  },
                  "issueDate": "2024-10-17"
                },
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "declaredValue": [
                  {
                    "metricName": "Sourcing from High-Risk Supply Chains",
                    "metricValue": {
                      "unit": "",
                      "value": 0
                    },
                    "score": "No"
                  }
                ],
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000126/21/RMAP_DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Copper Cathode Produced at RMI Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Test Smelter Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Midstream) Issue DFR - Lithium Refinery 4",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/9359502000164",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/9359502000164",
              "registeredId": "9359502000164",
              "description": "TEST Lithium Refinery Produces Refined Lithium",
              "name": "TEST Lithium Refinery",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Crude of Refined Lithium Products",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "TEST Refinery Parent",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/Public%20Reports/CMOC%20Kisanfu%20Public%20Report.pdf",
                "referenceStandard": {
                  "type": [
                    "Standard"
                  ],
                  "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                  "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                  "issuingParty": {
                    "id": "https://www.responsiblemineralsinitiative.org/",
                    "name": "Responsible Minerals Initiative",
                    "registeredId": "123456789",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://find-and-update.company-information.service.gov.uk/",
                      "name": "Company Registration Number (CRN)"
                    }
                  },
                  "issueDate": "2024-10-17"
                },
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  },
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000164/21/RMAP_DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Responsible Mining Assurance Credential for Lithium Refinery",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Test Refinery Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Downstream - OEM) Issue Digital Electronic Facility Record 5",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/9359502000171",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/9359502000171",
              "registeredId": "9359502000171",
              "description": "TEST Electronic Manufacturer Facility Manufactures Electronic Goods",
              "name": "TEST Electronic Manufacturer",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Electronic Goods",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "TEST Electronic Manufacturer Parent",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-03-15",
                "declaredValue": [
                  {
                    "metricName": "GHG emissions intensity",
                    "metricValue": {
                      "value": 10,
                      "unit": "KGM"
                    },
                    "score": "BB",
                    "accuracy": 0.05
                  }
                ],
                "id": "https://products.example-company.com/09520123456788/declarations/12345",
                "referenceStandard": {
                  "type": [
                    "Standard"
                  ],
                  "id": "https://www.globalbattery.org/media/publications/gba-rulebook-v2.0-master.pdf",
                  "name": "GBA Battery Passport Greenhouse Gas Rulebook - V.2.0",
                  "issuingParty": {
                    "id": "https://www.globalbattery.org/",
                    "name": "Global Battery Alliance",
                    "registeredId": "123456789",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://id.gs1.org/01/",
                      "name": "Global Trade Identification Number (GTIN)"
                    }
                  },
                  "issueDate": "2023-12-05"
                },
                "referenceRegulation": {
                  "type": [
                    "Regulation"
                  ],
                  "id": "https://www.legislation.gov.au/F2008L02309/latest/versions",
                  "name": "National Greenhouse and Energy Reporting (Measurement) Determination",
                  "jurisdictionCountry": "Enumeration Value",
                  "administeredBy": {
                    "id": "https://www.legislation.gov.au/",
                    "name": "Australian Government - Federal Register of Legislation",
                    "registeredId": "90664869327",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://id.gs1.org/01/",
                      "name": "Global Trade Identification Number (GTIN)"
                    }
                  },
                  "effectiveDate": "2024-03-20"
                },
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.globalbattery.org/media/publications/gba-rulebook-v2.0-master.pdf#BatteryAssembly",
                    "name": "GBA Battery rule book v2.0 battery assembly guidelines.",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": [],
                    "thresholdValue": {
                      "metricName": "GHG emissions intensity",
                      "metricValue": {
                        "value": 10,
                        "unit": "KGM"
                      },
                      "score": "BB",
                      "accuracy": 0.05
                    }
                  },
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.globalbattery.org/media/publications/gba-rulebook-v2.0-master.pdf#BatteryAssembly",
                    "name": "GBA Battery rule book v2.0 battery assembly guidelines.",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": [],
                    "thresholdValue": {
                      "metricName": "GHG emissions intensity",
                      "metricValue": {
                        "value": 10,
                        "unit": "KGM"
                      },
                      "score": "BB",
                      "accuracy": 0.05
                    }
                  }
                ],
                "declaredValues": [
                  {
                    "metricName": "GHG emissions intensity",
                    "metricValue": {
                      "value": 10,
                      "unit": "KGM"
                    },
                    "score": "BB",
                    "accuracy": 0.05
                  },
                  {
                    "metricName": "GHG emissions intensity",
                    "metricValue": {
                      "value": 10,
                      "unit": "KGM"
                    },
                    "score": "BB",
                    "accuracy": 0.05
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "https://files.example-certifier.com/1234567.json",
                  "linkName": "GBA rule book conformity certificate",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "TEST Electronic Manufacturer Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Upstream) Issue DFR - Copper Mine 6",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/9359502000119",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/9359502000119",
              "registeredId": "9359502000119",
              "description": "TEST Copper Mine Produces Copper Concentrate",
              "name": "TEST Copper Mine",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Copper ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/09359502000119/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Mining Permitted Entity",
                "registeredId": "09359502000119.21.DIA_01"
              },
              "facilityAlsoKnownAs": [
                {
                  "id": "http://localhost:3000/gs1/01/09359502000119/21/DCC_03?linkType=gs1:certificationInfo",
                  "name": "Mine Permit Number",
                  "registeredId": "09359502000119.21.DCC_03"
                }
              ],
              "address": {
                "streetAddress": "11 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                    "name": "RISK READINESS ASSESSMENT CRITERIA GUIDE",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000119/21/DCC_02?linkType=gs1:certificationInfo",
                  "linkName": "CopperMark Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://mining.ca/wp-content/uploads/dlm_uploads/2024/05/FINAL-2020-Protocol-Biodiversity.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://mining.ca/wp-content/uploads/dlm_uploads/2024/05/FINAL-2020-Protocol-Biodiversity.pdf",
                    "name": "Towards Sustainable Mining Protocol",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000119/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Towards Sustainable Mining (TSM) Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.bclaws.gov.bc.ca/civix/document/id/complete/statreg/96293_01",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.bclaws.gov.bc.ca/civix/document/id/complete/statreg/96293_01",
                    "name": "Mines Act Permit",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000119/21/DCC_03?linkType=gs1:certificationInfo",
                  "linkName": "Facility permitted to operate in BC under Mines Act",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Test Copper Mine"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Midstream) Issue DFR - Copper Smelter 7",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/9359502000126",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/9359502000126",
              "registeredId": "9359502000126",
              "description": "TEST Copper Smelter Produces Copper Cathodes",
              "name": "TEST Copper Smelter",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Refined copper and copper alloys, unwrought; master alloys of copper",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "TEST Smelter Parent",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://coppermark.org/wp-content/uploads/2023/10/RRA-v3.0-Criteria-Guide_2023.pdf",
                    "name": "RISK READINESS ASSESSMENT CRITERIA GUIDE",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000126/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "CopperMark Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/Public%20Reports/CMOC%20Kisanfu%20Public%20Report.pdf",
                "referenceStandard": {
                  "type": [
                    "Standard"
                  ],
                  "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                  "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                  "issuingParty": {
                    "id": "https://www.responsiblemineralsinitiative.org/",
                    "name": "Responsible Minerals Initiative",
                    "registeredId": "123456789",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://find-and-update.company-information.service.gov.uk/",
                      "name": "Company Registration Number (CRN)"
                    }
                  },
                  "issueDate": "2024-10-17"
                },
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "declaredValue": [
                  {
                    "metricName": "Sourcing from High-Risk Supply Chains",
                    "metricValue": {
                      "unit": "",
                      "value": 0
                    },
                    "score": "No"
                  }
                ],
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502000126/21/RMAP_DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Copper Cathode Produced at RMI Certified Facility",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Test Smelter Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Midstream) Issue DFR - Lithium Refinery 8",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/9359502000164",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/9359502000164",
              "registeredId": "9359502000164",
              "description": "TEST Lithium Refinery Produces Refined Lithium",
              "name": "TEST Lithium Refinery",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Crude of Refined Lithium Products",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "TEST Refinery Parent",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/Public%20Reports/CMOC%20Kisanfu%20Public%20Report.pdf",
                "referenceStandard": {
                  "type": [
                    "Standard"
                  ],
                  "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                  "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                  "issuingParty": {
                    "id": "https://www.responsiblemineralsinitiative.org/",
                    "name": "Responsible Minerals Initiative",
                    "registeredId": "123456789",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://find-and-update.company-information.service.gov.uk/",
                      "name": "Company Registration Number (CRN)"
                    }
                  },
                  "issueDate": "2024-10-17"
                },
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  },
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "declaredValue": [
                  {
                    "metricName": "Sourcing from High-Risk Supply Chains",
                    "metricValue": {
                      "unit": "",
                      "value": 0
                    },
                    "score": "No"
                  }
                ],
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502111164/21/RMAP_DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Refined Lithium Produced at RMI Certified Lithium Refinery",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Test Refinery Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Downstream - OEM) Issue Digital Electronic Facility Record 9",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/9359502000171",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/9359502000171",
              "registeredId": "9359502000171",
              "description": "TEST Electronic Manufacturer Facility Manufactures Electronic Goods",
              "name": "TEST Electronic Manufacturer",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Electronic Goods",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "TEST Electronic Manufacturer Parent",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-03-15",
                "declaredValue": [
                  {
                    "metricName": "GHG emissions intensity",
                    "metricValue": {
                      "value": 10,
                      "unit": "KGM"
                    },
                    "score": "BB",
                    "accuracy": 0.05
                  }
                ],
                "id": "https://products.example-company.com/09520123456788/declarations/12345",
                "referenceStandard": {
                  "type": [
                    "Standard"
                  ],
                  "id": "https://www.globalbattery.org/media/publications/gba-rulebook-v2.0-master.pdf",
                  "name": "GBA Battery Passport Greenhouse Gas Rulebook - V.2.0",
                  "issuingParty": {
                    "id": "https://www.globalbattery.org/",
                    "name": "Global Battery Alliance",
                    "registeredId": "123456789",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://id.gs1.org/01/",
                      "name": "Global Trade Identification Number (GTIN)"
                    }
                  },
                  "issueDate": "2023-12-05"
                },
                "referenceRegulation": {
                  "type": [
                    "Regulation"
                  ],
                  "id": "https://www.legislation.gov.au/F2008L02309/latest/versions",
                  "name": "National Greenhouse and Energy Reporting (Measurement) Determination",
                  "jurisdictionCountry": "Enumeration Value",
                  "administeredBy": {
                    "id": "https://www.legislation.gov.au/",
                    "name": "Australian Government - Federal Register of Legislation",
                    "registeredId": "90664869327",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://id.gs1.org/01/",
                      "name": "Global Trade Identification Number (GTIN)"
                    }
                  },
                  "effectiveDate": "2024-03-20"
                },
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.globalbattery.org/media/publications/gba-rulebook-v2.0-master.pdf#BatteryAssembly",
                    "name": "GBA Battery rule book v2.0 battery assembly guidelines.",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": [],
                    "thresholdValue": {
                      "metricName": "GHG emissions intensity",
                      "metricValue": {
                        "value": 10,
                        "unit": "KGM"
                      },
                      "score": "BB",
                      "accuracy": 0.05
                    }
                  },
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.globalbattery.org/media/publications/gba-rulebook-v2.0-master.pdf#BatteryAssembly",
                    "name": "GBA Battery rule book v2.0 battery assembly guidelines.",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": [],
                    "thresholdValue": {
                      "metricName": "GHG emissions intensity",
                      "metricValue": {
                        "value": 10,
                        "unit": "KGM"
                      },
                      "score": "BB",
                      "accuracy": 0.05
                    }
                  }
                ],
                "declaredValues": [
                  {
                    "metricName": "GHG emissions intensity",
                    "metricValue": {
                      "value": 10,
                      "unit": "KGM"
                    },
                    "score": "BB",
                    "accuracy": 0.05
                  },
                  {
                    "metricName": "GHG emissions intensity",
                    "metricValue": {
                      "value": 10,
                      "unit": "KGM"
                    },
                    "score": "BB",
                    "accuracy": 0.05
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "https://files.example-certifier.com/1234567.json",
                  "linkName": "GBA rule book conformity certificate",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "TEST Electronic Manufacturer Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Upstream) Copper Mine in DRC - Issue DFR 10",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502222016",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502222016",
              "registeredId": "09359502222016",
              "description": "Kasala Mining Limited Produces Copper Concentrate",
              "name": "Kasala Mining Limited",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "DRC",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Copper ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/update_some_id/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Mining Permitted Entity",
                "registeredId": "update_some_id.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "11 Test Road",
                "postalCode": "123456",
                "addressLocality": "Congo(TEST)",
                "addressRegion": "DRC",
                "addressCountry": "DRC"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.a-mla.org/en/country/law/7",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.a-mla.org/en/country/law/7",
                    "name": "Congolese Mining Code",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222016/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Mining Permit for Kasala Mining Limited in DRC",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                    "name": "IRMA Standard for Responsible Mining 1.0\u2013Guidance Document",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222016/21/DCC_02?linkType=gs1:certificationInfo",
                  "linkName": "Initiative for Responsible Mining Assurance Credential for Kasala Mining Limited in DRC",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Kasala Mining Limited"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Upstream) Cobalt Mine in Morocco - Issue DFR 11",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502222023",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502222023",
              "registeredId": "09359502222023",
              "description": "Cobalt Mine in Morocco produces Cobalt Concentrate",
              "name": "Atlas Cobalt SARL",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "Mar",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Cobalt ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/update_some_id/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Mining Permitted Entity",
                "registeredId": "update_some_id.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "111 Test Road",
                "postalCode": "123456",
                "addressLocality": "Morocco(TEST)",
                "addressRegion": "Mar",
                "addressCountry": "Mar"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/location_data",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.mem.gov.ma/en/Pages/TextesReglementaires.aspx",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.mem.gov.ma/en/Pages/TextesReglementaires.aspx",
                    "name": "Moroccan Mining Regulatory Laws",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222023/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Mining Permit for Atlas Cobalt SARL in Morocco",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                    "name": "IRMA Standard for Responsible Mining 1.0\u2013Guidance Document",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222023/21/DCC_02?linkType=gs1:certificationInfo",
                  "linkName": "Initiative for Responsible Mining Assurance Credential for Atlas Cobalt SARL in Morocco",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Cobalt Mine in Morocco"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Upstream) Cobalt Mine in Botswana - Issue DFR 12",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502222085",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502222085",
              "registeredId": "09359502222085",
              "description": "Cobalt Mine in Botswana produces Cobalt Concentrate",
              "name": "Okavango Cobalt Ltd.",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "Mar",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Cobalt ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/update_some_id/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Mining Permitted Entity",
                "registeredId": "update_some_id.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "111 Test Road",
                "postalCode": "123456",
                "addressLocality": "Botswana(TEST)",
                "addressRegion": "Mar",
                "addressCountry": "Mar"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/location_data",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://botswanalaws.com/StatutesActpdf/1999Actpdf/MINES%20AND%20MINERALS%20ACT,%2017%20OF%201999.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://botswanalaws.com/StatutesActpdf/1999Actpdf/MINES%20AND%20MINERALS%20ACT,%2017%20OF%201999.pdf",
                    "name": "Mines and Minerals Act, 1999",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222085/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Mining Permit for Okavango Cobalt Ltd. in Botswana",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                    "name": "IRMA Standard for Responsible Mining 1.0\u2013Guidance Document",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222085/21/DCC_02?linkType=gs1:certificationInfo",
                  "linkName": "Initiative for Responsible Mining Assurance Credential for Okavango Cobalt Ltd. Mine in Botswana",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Cobalt Mine in Botswana"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Midstream) Smelter in Canada - Issue DFR 13",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502222030",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502222030",
              "registeredId": "09359502222030",
              "description": "Northshore Smelting Corp. Produces Crude Copper",
              "name": "Northshore Smelting Corp.",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "Canada",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Refined copper and copper alloys, unwrought; master alloys of copper",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "TEST Smelter Parent",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    1.2345,
                    1.2345
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        1.2345,
                        1.2345
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222030/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "RMAP Credential for Smelter in Canada",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Test Smelter Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Midstream) Smelter in Norway - Issue DFR 14",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502222047",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502222047",
              "registeredId": "09359502222047",
              "description": "Smelter in Norway produces Crude Cobalt",
              "name": "FjordMetall AS",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "Norway",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Cobalt ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/update_some_id/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Smelting Permitted Entity",
                "registeredId": "update_some_id.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "111 Test Road",
                "postalCode": "123456",
                "addressLocality": "Norway(TEST)",
                "addressRegion": "Norway",
                "addressCountry": "Norway"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/location_data",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222047/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "RMAP Credential for Smelter in Norway",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Smelter Facility in Norway"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Downstream) Refinery in China - Issue DFR 15",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502222054",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502222054",
              "registeredId": "09359502222054",
              "description": "Refinery in China",
              "name": "Zhongke Refining Ltd.",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CN",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Cobalt ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/update_some_id/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Refinery Permitted Entity",
                "registeredId": "update_some_id.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "111 Test Road",
                "postalCode": "123456",
                "addressLocality": "China(TEST)",
                "addressRegion": "CN",
                "addressCountry": "CN"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/location_data",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.update_id.com",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.update_assessment_criteria_id.com",
                    "name": "Some Act Permit",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222054/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "RMAP Credential",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Refinery in China"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Recycling) Recycler in Canada - Issue DFR 16",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502222061",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502222061",
              "registeredId": "09359502222061",
              "description": "Recycler Facility Produces Recycled Materials",
              "name": "UrbanCore Recycling Inc.",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Recycled Materials",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "Recycler Facility",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    1.2345,
                    1.2345
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        1.2345,
                        1.2345
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502222061/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "RMAP Credential for Recycler in Canada",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Recycler Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Upstream) Copper Mine in DRC - Issue DFR 17",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502233016",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502233016",
              "registeredId": "09359502233016",
              "description": "Kasala Mining Limited Produces Copper Concentrate",
              "name": "Kasala Mining Limited",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "DRC",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Copper ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/09359502233016/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Mining Permitted Entity",
                "registeredId": "09359502233016.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "11 Test Road",
                "postalCode": "123456",
                "addressLocality": "Congo(TEST)",
                "addressRegion": "DRC",
                "addressCountry": "DRC"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.a-mla.org/en/country/law/7",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.a-mla.org/en/country/law/7",
                    "name": "Congolese Mining Code",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233016/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Mining Permit for Kasala Mining Limited in DRC",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                    "name": "IRMA Standard for Responsible Mining 1.0\u2013Guidance Document",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233016/21/DCC_02?linkType=gs1:certificationInfo",
                  "linkName": "Initiative for Responsible Mining Assurance Credential for Kasala Mining Limited in DRC",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Kasala Mining Limited"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Upstream) Cobalt Mine in Morocco - Issue DFR 18",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502233023",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502233023",
              "registeredId": "09359502233023",
              "description": "Cobalt Mine in Morocco produces Cobalt Concentrate",
              "name": "Atlas Cobalt SARL",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "Mar",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Cobalt ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/update_some_id/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Mining Permitted Entity",
                "registeredId": "update_some_id.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "111 Test Road",
                "postalCode": "123456",
                "addressLocality": "Morocco(TEST)",
                "addressRegion": "Mar",
                "addressCountry": "Mar"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/location_data",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.mem.gov.ma/en/Pages/TextesReglementaires.aspx",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.mem.gov.ma/en/Pages/TextesReglementaires.aspx",
                    "name": "Moroccan Mining Regulatory Laws",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233023/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Mining Permit for Atlas Cobalt SARL in Morocco",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                    "name": "IRMA Standard for Responsible Mining 1.0\u2013Guidance Document",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233023/21/DCC_02?linkType=gs1:certificationInfo",
                  "linkName": "Initiative for Responsible Mining Assurance Credential for Atlas Cobalt SARL in Morocco",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Cobalt Mine in Morocco"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Upstream) Cobalt Mine in Botswana - Issue DFR 19",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502233085",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502233085",
              "registeredId": "09359502233085",
              "description": "Cobalt Mine in Botswana produces Cobalt Concentrate",
              "name": "Okavango Cobalt Ltd.",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "Mar",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Cobalt ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/update_some_id/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Mining Permitted Entity",
                "registeredId": "update_some_id.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "111 Test Road",
                "postalCode": "123456",
                "addressLocality": "Botswana(TEST)",
                "addressRegion": "Mar",
                "addressCountry": "Mar"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/location_data",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://botswanalaws.com/StatutesActpdf/1999Actpdf/MINES%20AND%20MINERALS%20ACT,%2017%20OF%201999.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://botswanalaws.com/StatutesActpdf/1999Actpdf/MINES%20AND%20MINERALS%20ACT,%2017%20OF%201999.pdf",
                    "name": "Mines and Minerals Act, 1999",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233085/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "Mining Permit for Okavango Cobalt Ltd. in Botswana",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              },
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://responsiblemining.net/wp-content/uploads/2024/11/IRMA-Standard-Guidance-V1.3-Updated-2024-November_EN.pdf",
                    "name": "IRMA Standard for Responsible Mining 1.0\u2013Guidance Document",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233085/21/DCC_02?linkType=gs1:certificationInfo",
                  "linkName": "Initiative for Responsible Mining Assurance Credential for Okavango Cobalt Ltd. in Botswana",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Cobalt Mine in Botswana"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Midstream) Smelter in Canada - Issue DFR 20",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502233030",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502233030",
              "registeredId": "09359502233030",
              "description": "Northshore Smelting Corp. Produces Crude Copper",
              "name": "Northshore Smelting Corp.",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "Canada",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Refined copper and copper alloys, unwrought; master alloys of copper",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "TEST Smelter Parent",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    1.2345,
                    1.2345
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        1.2345,
                        1.2345
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233030/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "RMAP Credential for Smelter in Canada",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Test Smelter Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Midstream) Smelter in Norway - Issue DFR 21",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502233047",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502233047",
              "registeredId": "09359502233047",
              "description": "Smelter in Norway produces Crude Cobalt",
              "name": "FjordMetall AS",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "Norway",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Cobalt ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/update_some_id/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Smelting Permitted Entity",
                "registeredId": "update_some_id.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "111 Test Road",
                "postalCode": "123456",
                "addressLocality": "Norway(TEST)",
                "addressRegion": "Norway",
                "addressCountry": "Norway"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/location_data",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233047/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "RMAP Credential for Smelter in Norway",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Smelter Facility in Norway"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Downstream) Refinery in China - Issue DFR 22",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502233054",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502233054",
              "registeredId": "09359502233054",
              "description": "Refinery in China",
              "name": "Zhongke Refining Ltd.",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CN",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/14210",
                  "code": "14210",
                  "name": "Cobalt ores and concentrates",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://localhost:3000/gs1/01/update_some_id/21/DIA_01?linkType=gs1:registryEntry",
                "name": "TEST Refinery Permitted Entity",
                "registeredId": "update_some_id.21.DIA_01"
              },
              "facilityAlsoKnownAs": [],
              "address": {
                "streetAddress": "111 Test Road",
                "postalCode": "123456",
                "addressLocality": "China(TEST)",
                "addressRegion": "CN",
                "addressCountry": "CN"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/location_data",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    123.456,
                    123.456
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        123.456,
                        123.456
                      ]
                    ]
                  ]
                }
              }
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.update_id.com",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.update_assessment_criteria_id.com",
                    "name": "Some Act Permit",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233054/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "RMAP Credential",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Refinery in China"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Recycling) Recycler in Canada - Issue DFR 23",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/09359502233061",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/09359502233061",
              "registeredId": "09359502233061",
              "description": "Recycler Facility Produces Recycled Materials",
              "name": "UrbanCore Recycling Inc.",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Recycled Materials",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "Recycler Facility",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    1.2345,
                    1.2345
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        1.2345,
                        1.2345
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-11-11",
                "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.responsiblemineralsinitiative.org/media/docs/standards/ResponsibleMineralsAssuranceProcess_Standard_AllMinerals_EN_09152024.pdf",
                    "name": "Global Responsible Sourcing Due Diligence Standard for Mineral Supply Chains All Minerals",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": []
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "http://localhost:3000/gs1/01/09359502233061/21/DCC_01?linkType=gs1:certificationInfo",
                  "linkName": "RMAP Credential for Recycler in Canada",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "Recycler Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  },
  {
    "name": "(Downstream - OEM) Issue Digital Electronic Facility Record 24",
    "id": "produce_product",
    "components": [
      {
        "name": "JsonForm",
        "type": "EntryData",
        "props": {
          "schema": {
            "url": "https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.6.0/artefacts/jsonSchemas/FacilityRecord.json?class=FacilityRecord"
          },
          "data": {
            "id": "http://localhost:3000/gs1/414/9359502000280",
            "type": [
              "FacilityRecord"
            ],
            "facility": {
              "type": [
                "Facility"
              ],
              "id": "http://localhost:3000/gs1/414/9359502000280",
              "registeredId": "9359502000280",
              "description": "TEST Electronic Manufacturer Facility Manufactures Electronic Goods",
              "name": "TEST Electronic Manufacturer",
              "idScheme": {
                "type": [
                  "IdentifierScheme"
                ],
                "id": "https://id.gs1.org/414/",
                "name": "Global Location Number (GLN)"
              },
              "countryOfOperation": "CA",
              "processCategory": [
                {
                  "type": [
                    "Classification"
                  ],
                  "id": "https://unstats.un.org/unsd/classifications/Econ/cpc/41413",
                  "code": "41413",
                  "name": "Electronic Goods",
                  "schemeID": "https://unstats.un.org/unsd/classifications/Econ/cpc/",
                  "schemeName": "UN Central Product Classification (CPC)"
                }
              ],
              "operatedByParty": {
                "id": "http://example.com/90664869327",
                "name": "TEST Electronic Manufacturer Parent",
                "registeredId": "90664869327"
              },
              "address": {
                "streetAddress": "99 Test Road",
                "postalCode": "M3M 0A9",
                "addressLocality": "Toronto(TEST)",
                "addressRegion": "BC",
                "addressCountry": "CA"
              },
              "locationInformation": {
                "plusCode": "https://plus.codes/87M2MJ36+WM",
                "geoLocation": {
                  "type": "Point",
                  "coordinates": [
                    3.141579,
                    3.141579
                  ]
                },
                "geoBoundary": {
                  "type": "Polygon",
                  "coordinates": [
                    [
                      [
                        3.141579,
                        3.141579
                      ]
                    ]
                  ]
                }
              },
              "facilityAlsoKnownAs": []
            },
            "conformityClaim": [
              {
                "type": [
                  "Claim",
                  "Declaration"
                ],
                "assessmentDate": "2024-03-15",
                "declaredValue": [
                  {
                    "metricName": "GHG emissions intensity",
                    "metricValue": {
                      "value": 10,
                      "unit": "KGM"
                    },
                    "score": "BB",
                    "accuracy": 0.05
                  }
                ],
                "id": "https://products.example-company.com/09520123456788/declarations/12345",
                "referenceStandard": {
                  "type": [
                    "Standard"
                  ],
                  "id": "https://www.globalbattery.org/media/publications/gba-rulebook-v2.0-master.pdf",
                  "name": "GBA Battery Passport Greenhouse Gas Rulebook - V.2.0",
                  "issuingParty": {
                    "id": "https://www.globalbattery.org/",
                    "name": "Global Battery Alliance",
                    "registeredId": "123456789",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://id.gs1.org/01/",
                      "name": "Global Trade Identification Number (GTIN)"
                    }
                  },
                  "issueDate": "2023-12-05"
                },
                "referenceRegulation": {
                  "type": [
                    "Regulation"
                  ],
                  "id": "https://www.legislation.gov.au/F2008L02309/latest/versions",
                  "name": "National Greenhouse and Energy Reporting (Measurement) Determination",
                  "jurisdictionCountry": "Enumeration Value",
                  "administeredBy": {
                    "id": "https://www.legislation.gov.au/",
                    "name": "Australian Government - Federal Register of Legislation",
                    "registeredId": "90664869327",
                    "idScheme": {
                      "type": [
                        "IdentifierScheme"
                      ],
                      "id": "https://id.gs1.org/01/",
                      "name": "Global Trade Identification Number (GTIN)"
                    }
                  },
                  "effectiveDate": "2024-03-20"
                },
                "assessmentCriteria": [
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.globalbattery.org/media/publications/gba-rulebook-v2.0-master.pdf#BatteryAssembly",
                    "name": "GBA Battery rule book v2.0 battery assembly guidelines.",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": [],
                    "thresholdValue": {
                      "metricName": "GHG emissions intensity",
                      "metricValue": {
                        "value": 10,
                        "unit": "KGM"
                      },
                      "score": "BB",
                      "accuracy": 0.05
                    }
                  },
                  {
                    "type": [
                      "Criterion"
                    ],
                    "id": "https://www.globalbattery.org/media/publications/gba-rulebook-v2.0-master.pdf#BatteryAssembly",
                    "name": "GBA Battery rule book v2.0 battery assembly guidelines.",
                    "description": "Default description",
                    "conformityTopic": "environment.emissions",
                    "status": "proposed",
                    "subCriterion": [],
                    "thresholdValue": {
                      "metricName": "GHG emissions intensity",
                      "metricValue": {
                        "value": 10,
                        "unit": "KGM"
                      },
                      "score": "BB",
                      "accuracy": 0.05
                    }
                  }
                ],
                "declaredValues": [
                  {
                    "metricName": "GHG emissions intensity",
                    "metricValue": {
                      "value": 10,
                      "unit": "KGM"
                    },
                    "score": "BB",
                    "accuracy": 0.05
                  },
                  {
                    "metricName": "GHG emissions intensity",
                    "metricValue": {
                      "value": 10,
                      "unit": "KGM"
                    },
                    "score": "BB",
                    "accuracy": 0.05
                  }
                ],
                "conformance": true,
                "conformityTopic": "environment.emissions",
                "conformityEvidence": {
                  "linkURL": "https://files.example-certifier.com/1234567.json",
                  "linkName": "GBA rule book conformity certificate",
                  "linkType": "https://test.uncefact.org/vocabulary/linkTypes/dcc",
                  "hashDigest": "6239119",
                  "hashMethod": "SHA-256",
                  "encryptionMethod": "AES"
                }
              }
            ]
          },
          "constructData": {
            "mappingFields": [],
            "dummyFields": [],
            "generationFields": [
              {
                "path": "/eventID",
                "handler": "generateIdWithSerialNumber"
              }
            ]
          },
          "className": "json-form",
          "style": {
            "margin": "40px auto",
            "paddingTop": "20px",
            "width": "80%"
          }
        }
      },
      {
        "name": "CustomButton",
        "type": "Submit",
        "props": {}
      }
    ],
    "services": [
      {
        "name": "processDigitalFacilityRecord",
        "parameters": [
          {
            "vckit": {
              "vckitAPIUrl": "http://localhost:3332/v2",
              "issuer": {
                "id": "did:web:uncefact.github.io:project-vckit:test-and-development",
                "name": "TEST Electronic Manufacturer Facility"
              },
              "headers": {
                "Authorization": "Bearer test123"
              }
            },
            "digitalFacilityRecord": {
              "context": [
                "https://test.uncefact.org/vocabulary/untp/dfr/0.6.0/"
              ],
              "renderTemplate": [
                {
                  "template": "<!DOCTYPE html><html lang=\"en\"> <head> <meta charset=\"UTF-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /> <link href=\"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap\" rel=\"stylesheet\" /> <title>Digital Facility Record</title> <style> :root { /* Brand Colors */ --color-primary: rgba(35, 46, 61, 1); /* Headers, titles; Default: rgba(35, 46, 61, 1) */ --color-secondary: rgba(31, 90, 149, 1); /* Evidence titles; Default: rgba(31, 90, 149, 1) */ /* Neutrals */ --color-white: rgba(255, 255, 255, 1); /* Text, backgrounds; Default: rgba(255, 255, 255, 1) */ --color-black: rgba(0, 0, 0, 1); /* Text; Default: rgba(0, 0, 0, 1) */ --color-gray-700: rgba(35, 46, 61, 1); /* Text, matches primary; Default: rgba(35, 46, 61, 1) */ --color-gray-600: rgba(85, 96, 110, 1); /* Backgrounds, text; Default: rgba(85, 96, 110, 1) */ --color-gray-500: rgba(169, 177, 183, 1); /* Borders; Default: rgba(169, 177, 183, 1) */ --color-gray-400: rgba(212, 214, 216, 1); /* Borders; Default: rgba(212, 214, 216, 1) */ --color-gray-300: rgba(237, 239, 240, 1); /* Backgrounds, text; Default: rgba(237, 239, 240, 1) */ /* Semantic (Functional) Colors */ --color-success-bg: rgba(184, 236, 182, 1); /* Success badge background; Default: rgba(184, 236, 182, 1) */ --color-success-text: rgba(8, 50, 0, 1); /* Success badge text; Default: rgba(8, 50, 0, 1) */ --color-error-bg: rgba(255, 188, 183, 1); /* Error badge background; Default: rgba(255, 188, 183, 1) */ --color-error-text: rgba(50, 0, 0, 1); /* Error badge text; Default: rgba(50, 0, 0, 1) */ --color-link-underline-dark: rgba(79, 149, 221, 1); /* Link underlines; Default: rgba(79, 149, 221, 1) */ --color-link-underline-light: rgba(148, 196, 245, 1); /* Link underlines; Default: rgba(148, 196, 245, 1) */ --color-icon: #1f5a95; /* SVG fill, stroke; Default: #1F5A95 */ /* Font Variables */ --font-family: 'Lato', sans-serif; /* All text; Default: Lato font */ /* Font Weight Variables */ --font-weight-regular: 400; /* Standard text; Default: 400 */ --font-weight-medium: 500; /* Titles, emphasized text; Default: 500 */ --font-weight-semi-bold: 600; /* Badges; Default: 600 */ --font-weight-bold: 700; /* Headings; Default: 700 */ --font-weight-black: 900; /* Main titles; Default: 900 */ } /* Globals CSS */ * { margin: 0; box-sizing: border-box; } body { font-family: var(--font-family); } section { padding: 0 16px 0 16px; } a { text-decoration: none; } .facility-record { width: 100%; margin: 0 auto; display: flex; flex-direction: column; gap: 32px; } .facility-record-header { display: flex; flex-direction: column; width: 100%; align-items: center; } .facility-header { display: flex; flex-direction: column; width: 100%; align-items: flex-start; gap: 12px; padding: 32px 16px 20px 16px; background-color: var(--color-primary); } .facility-record .facility-title { width: 100%; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 22px; text-transform: uppercase; } .facility-record .name-description { display: flex; flex-direction: column; gap: 8px; } .facility-record .name-description h1 { font-weight: var(--font-weight-black); color: var(--color-white); font-size: 30px; line-height: 32.5px; } .facility-record .name-description p { font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .facility-details-section { padding: 0px 16px 16px; align-self: stretch; width: 100%; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; background-color: var(--color-gray-600); } .facility-record .grid-row { display: grid; grid-template-columns: 1fr 2fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .grid-row:last-child { border-bottom: none; } .facility-record .declarations { display: flex; flex-direction: column; gap: 12px; padding: 0px 16px; width: 100%; } .facility-record .declaration-title { font-size: 20px; font-weight: var(--font-weight-bold); line-height: 21.8px; color: var(--color-gray-700); } .facility-record .conformities-list { display: flex; flex-direction: column; gap: 8px; } .facility-record .conformity-card { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; min-width: 336px; padding: 16px 18px 16px 16px; position: relative; background-color: var(--color-white); border-radius: 4px; border: 1px solid; border-color: var(--color-gray-400); } .facility-record .conformance-header { display: flex; align-items: center; justify-content: space-between; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .conformance-status { display: inline-flex; align-items: center; gap: 4px; position: relative; flex: 0 0 auto; } .facility-record .conformance-label { position: relative; width: fit-content; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .tags-VC-badge-red { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-error-bg); color: var(--color-error-text); border-radius: 8px; overflow: hidden; } .facility-record .tags-VC-badge-green { display: inline-flex; align-items: center; justify-content: center; gap: 10px; padding: 4px 8px; flex: 0 0 auto; background-color: var(--color-success-bg); color: var(--color-success-text); border-radius: 8px; overflow: hidden; } .facility-record .verifiable { width: fit-content; font-weight: var(--font-weight-semi-bold); font-size: 14px; line-height: 15.3px; } .facility-record .evidence-details { display: flex; flex-direction: column; align-items: center; gap: 4px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; } .facility-record .facility-name { position: relative; align-self: stretch; margin-top: -1px; font-weight: var(--font-weight-regular); color: var(--color-secondary); font-size: 18px; line-height: 21.2px; } .facility-record .regulation-details { color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .regulation-details-text { font-weight: var(--font-weight-regular); font-size: 14px; line-height: 19.2px; } .facility-record .regulation-link { color: var(--color-gray-600); } .facility-record .gray-bottom-line { border-bottom: 1px var(--color-gray-600) solid; width: fit-content; text-decoration: none; } .facility-record .metrics-list { display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; gap: 8px; align-self: stretch; width: 100%; } .facility-record .metric-item { display: flex; flex-direction: column; align-items: flex-start; gap: 8px; flex: 1; flex-grow: 1; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .metric-value { flex: 1; color: var(--color-gray-700); font-size: 16px; font-weight: var(--font-weight-regular); line-height: 17.44px; } .facility-record .metric-score { flex: 1; font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 14px; line-height: 19.2px; } .facility-record .evidence-link-container { display: flex; align-items: center; justify-content: space-between; padding: 8px 0px; position: relative; align-self: stretch; width: 100%; flex: 0 0 auto; border-radius: 4px; } .facility-record .evidence-link { display: inline-flex; align-items: center; gap: 8px; position: relative; flex: 0 0 auto; } .facility-record .evidence-label-wrapper { display: flex; flex-direction: column; width: 260px; align-items: flex-start; gap: 4px; } .facility-record .evidence-text { color: var(--color-black); font-size: 16px; line-height: 17.4px; align-self: stretch; font-weight: var(--font-weight-regular); } .facility-record .issuing-details { width: 100%; padding: 24px 16px 36px; background-color: var(--color-gray-300); display: flex; flex-direction: column; align-items: flex-start; gap: 4px; } .facility-record .typography-heading { display: inline-flex; align-items: center; justify-content: center; gap: 10px; } .facility-record .issuing-title { width: fit-content; font-weight: var(--font-weight-bold); color: var(--color-black); font-size: 20px; line-height: 21.8px; } .facility-record .facility-details { display: inline-flex; flex-direction: column; align-items: flex-start; width: 100%; } .facility-record .grid-row-alt { display: grid; grid-template-columns: 1.4fr 3fr; gap: 16px; padding: 10px 0px 12px; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; } .facility-record .border-bottom-gray-400 { border-color: var(--color-gray-400); } .facility-record .border-bottom-gray-500 { border-color: var(--color-gray-500); } .facility-record .label { font-weight: var(--font-weight-regular); color: var(--color-gray-300); font-size: 16px; line-height: 22px; } .facility-record .label-alt { font-weight: var(--font-weight-regular); color: var(--color-gray-600); font-size: 16px; line-height: 22px; } .facility-record .grid-value-link { flex-direction: column; align-items: flex-start; gap: 6px; align-self: stretch; display: flex; flex: 1; flex-grow: 1; } .facility-record .div-wrapper { gap: 10px; display: inline-flex; align-items: flex-start; text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-dark); text-underline-offset: 3px; } .facility-record .map-link { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-light); } .facility-record .map-link-text { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .issuer-link { width: fit-content; font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 22px; } .facility-record .map-link-wrapper { display: inline-flex; align-items: flex-start; gap: 10px; border-bottom-width: 2px; border-bottom-style: solid; border-color: var(--color-link-underline-dark); } .facility-record .grid-value { display: flex; align-items: center; gap: 10px; align-self: stretch; flex-grow: 1; flex: 1; } .facility-record .grid-value-list { display: flex; flex-wrap: wrap; row-gap: 4px; max-width: 100%; } .facility-record .grid-value-list a { margin-right: 10px; } .facility-record .grid-value-text { flex: 1; font-weight: var(--font-weight-medium); color: var(--color-white); font-size: 16px; line-height: 17.4px; } .facility-record .grid-value-text-alt { font-weight: var(--font-weight-medium); color: var(--color-gray-700); font-size: 16px; line-height: 17.4px; flex: 1; } .blue-bottom-line-2, .blue-bottom-line-2:link { width: fit-content; color: var(--color-white); text-decoration: underline; text-decoration-thickness: 2px; text-decoration-color: var(--color-link-underline-light); text-underline-offset: 3px; } .white-text { color: var(--color-white); } /* Media Queries for Desktops */ @media (min-width: 1200px) { .facility-record { max-width: 1200px; } } </style> </head> <body> <div class=\"facility-record\"> <div class=\"facility-record-header\"> <header class=\"facility-header\"> <div class=\"facility-title\">FACILITY RECORD</div> <div class=\"name-description\"> <h1>{{credentialSubject.facility.name}}</h1> {{#if credentialSubject.facility.description}} <p>{{credentialSubject.facility.description}}</p> {{/if}} </div> </header> <section class=\"facility-details-section\"> <div class=\"facility-details\"> {{#if credentialSubject.facility.operatedByParty}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Operator</div> <div class=\"grid-value\"> <a href=\"{{credentialSubject.facility.operatedByParty.id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{credentialSubject.facility.operatedByParty.name}}\" target=\"_blank\"> {{credentialSubject.facility.operatedByParty.name}} </a> </div> </div> {{/if}} {{#if credentialSubject.facility.countryOfOperation}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Country</div> <div class=\"grid-value\"> <div class=\"grid-value-text\">{{credentialSubject.facility.countryOfOperation}}</div> </div> </div> {{/if}} {{#if credentialSubject.facility.address}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Address</div> <div class=\"grid-value\"> {{#if credentialSubject.facility.locationInformation.plusCode}} <a href=\"{{credentialSubject.facility.locationInformation.plusCode}}\" class=\"blue-bottom-line-2\" aria-label=\"View {{credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.addressLocality}} on map\" target=\"_blank\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </a> {{else}} <span class=\"white-text\"> {{#if credentialSubject.facility.address.streetAddress}} {{credentialSubject.facility.address.streetAddress}} {{/if}} {{#if credentialSubject.facility.address.addressLocality}} {{credentialSubject.facility.address.addressLocality}} {{/if}} {{#if credentialSubject.facility.address.addressRegion}} {{credentialSubject.facility.address.addressRegion}} {{/if}} {{#if credentialSubject.facility.address.postalCode}} {{credentialSubject.facility.address.postalCode}} {{/if}} </span> {{/if}} </div> </div> {{/if}} {{#if credentialSubject.facility.processCategory}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Processes</div> <div class=\"grid-value\"> <div class=\"grid-value-list\"> {{#each credentialSubject.facility.processCategory}} <a href=\"{{id}}\" class=\"blue-bottom-line-2\" aria-label=\"Visit {{name}}\" target=\"_blank\">{{name}}</a> {{/each}} </div> </div> </div> {{/if}} {{#if credentialSubject.facility.locationInformation}} {{#if credentialSubject.facility.locationInformation.geoLocation}} {{#if credentialSubject.facility.locationInformation.geoLocation.coordinates}} <div class=\"grid-row border-bottom-gray-500\"> <div class=\"label\">Geolocation</div> <a href=\"https://www.google.com/maps?q={{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 1}},{{lookup credentialSubject.facility.locationInformation.geoLocation.coordinates 0}}\" class=\"grid-value-link\" aria-label=\"View geolocation on map\" target=\"_blank\"> <div class=\"map-link-wrapper\"> <div class=\"map-link-text\">Show on map</div> </div> </a> </div> {{/if}} {{/if}} {{/if}} </div> </section> </div> {{#if credentialSubject.conformityClaim}} <section class=\"declarations\"> <h2 class=\"declaration-title\">Declarations</h2> <div class=\"conformities-list\"> {{#each credentialSubject.conformityClaim}} <article class=\"conformity-card\"> <header class=\"conformance-header\"> <div class=\"conformance-status\"> <div class=\"conformance-label\">Conformance:</div> <div class=\"{{#if conformance}}tags-VC-badge-green{{else}}tags-VC-badge-red{{/if}}\"> <div class=\"verifiable\">{{#if conformance}}Yes{{else}}No{{/if}}</div> </div> </div> {{#if assessmentDate}} <div class=\"conformance-label\">Assessed: {{assessmentDate}}</div> {{/if}} </header> <div class=\"evidence-details\"> {{#if conformityEvidence}} {{#if conformityEvidence.linkName}} <div class=\"facility-name\">{{conformityEvidence.linkName}}</div> {{/if}} {{/if}} {{#if referenceRegulation}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\"> {{#if referenceRegulation.name}} {{referenceRegulation.name}} {{/if}} {{#if referenceRegulation.jurisdictionCountry}} administered in {{referenceRegulation.jurisdictionCountry}} {{/if}} by </span> <a href=\"{{referenceRegulation.administeredBy.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceRegulation.administeredBy.name}}\" target=\"_blank\"> {{referenceRegulation.administeredBy.name}} </a> </p> {{/if}} {{#if referenceStandard}} <p class=\"regulation-details\"> <span class=\"regulation-details-text\">{{#if referenceStandard.name}} {{referenceStandard.name}} issued by {{else}} Issued by {{/if}}</span> <a href=\"{{referenceStandard.issuingParty.id}}\" class=\"regulation-link gray-bottom-line\" aria-label=\"Visit {{referenceStandard.issuingParty.name}}\" target=\"_blank\"> {{referenceStandard.issuingParty.name}} </a> </p> {{/if}} </div> {{#if declaredValue}} <div class=\"metrics-list\"> {{#each declaredValue}} <div class=\"metric-item\"> <div class=\"typography-heading\"> <p class=\"metric-value\">{{metricName}} is {{metricValue.value}}{{metricValue.unit}}</p> </div> {{#if score}} <div class=\"typography-heading\"> <p class=\"metric-score\">Score: {{score}} {{#if accuracy}} | Accuracy {{accuracy}} {{/if}}</p> </div> {{else}} {{#if accuracy}} <div class=\"typography-heading\"> <p class=\"metric-score\">Accuracy {{accuracy}}</p> </div> {{/if}} {{/if}} </div> {{/each}} </div> {{/if}} {{#if conformityEvidence}} {{#if conformityEvidence.linkURL}} <a href=\"{{conformityEvidence.linkURL}}\" class=\"evidence-link-container\" aria-label=\"View evidence for {{referenceRegulation.name}} {{referenceStandard.name}}\" target=\"_blank\"> <div class=\"evidence-link\"> <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H19C19.55 3 20.021 3.196 20.413 3.588C20.805 3.98 21.0007 4.45067 21 5V19C21 19.55 20.8043 20.021 20.413 20.413C20.0217 20.805 19.5507 21.0007 19 21H5ZM5 5V19H19V5H17V12L14.5 10.5L12 12V5H5Z\" fill=\"var(--color-icon)\"></path> </svg> <div class=\"evidence-label-wrapper\"> <div class=\"evidence-text\">Evidence</div> </div> </div> <svg width=\"10\" height=\"15\" viewBox=\"0 0 10 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M1 1L8 8L1 15\" stroke=\"var(--color-icon)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path> </svg> </a> {{/if}} {{/if}} </article> {{/each}} </div> </section> {{/if}} <section class=\"issuing-details\"> <div class=\"typography-heading\"> <h2 class=\"issuing-title\">Issuing details</h2> </div> <div class=\"facility-details\"> <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Issued by</div> <div class=\"grid-value-link\"> <div class=\"div-wrapper\"> <a href=\"{{issuer.id}}\" class=\"issuer-link\" aria-label=\"Visit {{issuer.name}}\" target=\"_blank\">{{issuer.name}}</a> </div> </div> </div> {{#if validFrom}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid from</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validFrom}}</div> </div> </div> {{/if}} {{#if validUntil}} <div class=\"grid-row-alt border-bottom-gray-400\"> <div class=\"label-alt\">Valid until</div> <div class=\"grid-value\"> <div class=\"grid-value-text-alt\">{{validUntil}}</div> </div> </div> {{/if}} </div> </section> </div> </body></html>",
                  "type": "WebRenderingTemplate2022"
                }
              ],
              "type": [
                "DigitalFacilityRecord"
              ],
              "dlrLinkTitle": "DigitalFacilityRecord",
              "dlrVerificationPage": "http://localhost:3003/verify"
            },
            "dlr": {
              "dlrAPIUrl": "http://localhost:3000/api/1.0.0",
              "dlrAPIKey": "test123",
              "namespace": "gs1",
              "linkRegisterPath": "resolver"
            },
            "storage": {
              "url": "http://localhost:3334/api/1.0.0/documents",
              "params": {
                "bucket": "verifiable-credentials"
              },
              "options": {
                "method": "POST",
                "headers": {
                  "Content-Type": "application/json"
                }
              }
            },
            "identifierKeyPath": "/id"
          }
        ]
      }
    ]
  }
]